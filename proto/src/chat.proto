syntax = "proto3";
package chat;

service Chat {
  rpc CreateChannel(ChannelCreateRequest) returns (ChannelResponse);
  rpc JoinChannel(ChannelSelectRequest) returns (Empty);
  rpc LeaveChannel(ChannelSelectRequest) returns (Empty);

  // To send a chat message from the client to the server
  rpc SendMessage(Message) returns (Empty);
  // Server streaming RPC method for receiving chat messages from the server
  rpc ReceiveMessages(Message) returns (stream Message);
}

message Empty{}

message ChannelCreateRequest {
  string channel_name = 1;
  string creator_username = 2;
}

// To select a channel to join or leave
message ChannelSelectRequest {
  string channel_id = 1;
}

message ChannelResponse {
  string channel_id = 1;
}

// Chat message structure
message Message {
  string username = 1;
  string content = 2;
  string channel_id = 3;
}


